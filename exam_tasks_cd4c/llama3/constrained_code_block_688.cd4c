



classdiagram DeFiSystem  {

  class User  {
    String uniqueIdentifier;
    WalletAddress walletAddress;
  }

  class WalletAddress  {
    String address;
  }

  class Loan  {
    String uniqueIdentifier;
    int amount;
    double interestRate;
    RepaymentSchedule repaymentSchedule;
  }

  class RepaymentSchedule  {
    Date[] dates;
    double[] amounts;
  }

  class Collateral  {
    String uniqueIdentifier;
    CollateralType type;
    double value;
  }

  enum CollateralType  {
    CRYPTOCURRENCY, TOKEN, NFT;
  }

  class SmartContract  {
    String uniqueIdentifier;
    LoanAgreement loanAgreement;
    CollateralAgreement collateralAgreement;
  }

  class LoanAgreement  {
    Loan loan;
  }

  class CollateralAgreement  {
    Collateral collateral;
  }

  class Oracle  {
    String uniqueIdentifier;
    DataSource dataSource;
    DataType dataType;
  }

  enum DataSource  {
    EXTERNAL_API, INTERNAL_DB;
  }

  enum DataType  {
    INTEGER, STRING, BOOLEAN;
  }

  composition User -> WalletAddress;
  composition Loan -> RepaymentSchedule;
  composition SmartContract -> LoanAgreement;
  composition SmartContract -> CollateralAgreement;
  composition Oracle -> DataSource;
  composition Oracle -> DataType;
}